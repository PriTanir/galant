
\begin{figure}

\begin{center}

\begin{minipage}{4in}
\begin{verbatim}
    movesNodes();
    for ( int i = 1; i < numNodes; i++ ) {
        beginStep();
        Double x = A[i]; setWeight(toInsert, A[i]);
        setX(toInsert, xCoord[i]);
        endStep();
        Integer j = i - 1;
        while ( j >= 0 ) {  
            beginStep();
            setX(toInsert, xCoord[j]);
            highlight(nodes[j]);
            endStep();
            if ( A[j] <= x ) break;
            beginStep();
            A[j+1] = A[j]; setWeight(nodes[j+1], A[j]);
            unhighlight(nodes[j]);
            unmark(nodes[j]);
            mark(nodes[j+1]);
            endStep();
            j = j - 1;
        }
        beginStep();
        A[j+1] = x; setWeight(nodes[j+1], x);
        mark(nodes[j+1]);
        endStep();
    }
\end{verbatim}
\end{minipage}

% {\ttfamily
% \begin{alg}{4.0in}
% for ( int i = 1; i < n; i++ ) \{ \+\\
%     double x = A[i]; toInsert.setWeight( A[i] ); \\
%     toInsert.setX( xCoord[i] ); \\
%     endStep(); \\
%     int j = i - 1; \\
%     while ( j >= 0 \&\& A[j] > x ) \{ \+\\  
%         beginStep(); \\
%         toInsert.setX( xCoord[j] ); \\
%         highlight(nodes[j]); \\
%         endStep(); beginStep(); \\
%         A[j+1] = A[j]; nodes[j+1].setWeight( A[j] ); \\
%         nodes[j].unMark(); \\
%         nodes[j].setSelected( false ); \\
%         nodes[j+1].mark(); \\
%         endStep(); \\
%         j = j - 1; \-\\
%     \} \\
%     beginStep(); \\
%     A[j+1] = x; nodes[j+1].setWeight( x ); \\
%     nodes[j+1].mark(); \-\\
% \}
% \end{alg}
% } % ttfamily
% } % fbox

\bigskip

\fbox{
\includegraphics[scale=0.4]{X_is_1}
}

\smallskip
(a) Starting to insert \verb$x = A[3]$.

\bigskip
\fbox{
\includegraphics[scale=0.4]{X_is_2}
}

\smallskip
(b) Comparing \verb$x$ with \verb$A[2]$.

\bigskip
\fbox{
\includegraphics[scale=0.4]{X_is_3}
}

\smallskip
(c) \verb$A[2] > x$ so \verb$A[3] = A[2]$.

\end{center}

\caption{The insertion sort algorithm
and three steps in the animation.}
\label{fig:insertion_sort_animation}
\end{figure}
